{"version":3,"sources":["../../../src/system/readJsonWithEmbeddedJsonString.ts"],"sourceRoot":"./","sourcesContent":["\r\n\r\nimport { promises as fs } from 'fs';\r\n\r\n\r\nfunction unwrapNestedJson(input: string): any {\r\n  const replacements: Array<[string, string]> = [\r\n      ['\"{', '{'],\r\n      ['}\"', '}'],\r\n      ['\"[', '['],\r\n      [']\"', ']'],\r\n      ['\\\\\"', '\"']\r\n  ];\r\n  let result = input;\r\n  for (const [target, replacement] of replacements) {\r\n      const safeRegex = new RegExp(target.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'g');\r\n      result = result.replace(new RegExp(target.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'g'), replacement);\r\n  }\r\n  return result;\r\n}\r\n\r\n// Step 1: Read the JSON file\r\n// const jsonContent = fs.readFileSync('path/to/yourfile.json', 'utf8');\r\n\r\n// TODO: error handling for file read\r\n\r\n// Step 2: Unwrap the nested JSON\r\n// const unwrappedJson = unwrapNestedJson(jsonContent);\r\n\r\n// Step 3: Parse the unwrapped JSON\r\n\r\n// TODO: error handling for JSON parse\r\n\r\n\r\n\r\n\r\nimport * as path from 'path';\r\n\r\nfunction readFileFromVSCodeData(filePath: string): Promise<string> {\r\n    return fs.readFile(filePath,'utf8');\r\n}\r\n\r\n// Example usage\r\nconst dataDirPath = path.join(process.env.APPDATA || '', 'Code', 'User', 'workspaceStorage');\r\nconst fullPath = path.join(dataDirPath, 'yourSpecificFile.json');\r\n\r\nreadFileFromVSCodeData(fullPath)\r\n    .then(data => console.log(data))\r\n    .catch(error => console.error('Error reading file:', error));\r\n"],"names":["unwrapNestedJson","input","replacements","result","target","replacement","safeRegex","RegExp","replace","readFileFromVSCodeData","filePath","fs","readFile","dataDirPath","path","join","process","env","APPDATA","fullPath","then","data","console","log","catch","error"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;oBAE+B;8DAkCT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA/BtB,SAASA,iBAAiBC,KAAa;IACrC,MAAMC,eAAwC;QAC1C;YAAC;YAAM;SAAI;QACX;YAAC;YAAM;SAAI;QACX;YAAC;YAAM;SAAI;QACX;YAAC;YAAM;SAAI;QACX;YAAC;YAAO;SAAI;KACf;IACD,IAAIC,SAASF;IACb,KAAK,MAAM,CAACG,QAAQC,YAAY,IAAIH,aAAc;QAC9C,MAAMI,YAAY,IAAIC,OAAOH,OAAOI,OAAO,CAAC,uBAAuB,SAAS;QAC5EL,SAASA,OAAOK,OAAO,CAAC,IAAID,OAAOH,OAAOI,OAAO,CAAC,uBAAuB,SAAS,MAAMH;IAC5F;IACA,OAAOF;AACT;AAmBA,SAASM,uBAAuBC,QAAgB;IAC5C,OAAOC,YAAE,CAACC,QAAQ,CAACF,UAAS;AAChC;AAEA,gBAAgB;AAChB,MAAMG,cAAcC,MAAKC,IAAI,CAACC,QAAQC,GAAG,CAACC,OAAO,IAAI,IAAI,QAAQ,QAAQ;AACzE,MAAMC,WAAWL,MAAKC,IAAI,CAACF,aAAa;AAExCJ,uBAAuBU,UAClBC,IAAI,CAACC,CAAAA,OAAQC,QAAQC,GAAG,CAACF,OACzBG,KAAK,CAACC,CAAAA,QAASH,QAAQG,KAAK,CAAC,uBAAuBA"}